@model IEnumerable<CarRentalSystem.Models.Cars.CarListingModel>

<h2 class="text-center mt-60">Our Cars - Page @ViewBag.CurrentPage</h2>

@if (!Model.Any())
{
    <h2 class="text-center">No more cars!</h2>
}

@foreach (var car in Model)
{
    <div class="row mt-60">
        <div class="col-md-6">
            <img src="@car.ImageUrl" class="img-responsive" @(car.IsRented ? "style=opacity:0.5" : string.Empty) />
        </div>
        <div class="col-md-6">
            <h2>@car.Make @car.Model (@car.Year)</h2>
            <h3>
                @car.PricePerDay BGN/Day<h3>
                <a href="/Cars/Details/@car.Id" class="btn @(car.IsRented ? "btn-default" : "btn-primary")">@(car.IsRented ? "This Car Is Not Available" : "See more")</a>
    </div>
</div>
}

@{ 
    var currentUserQuery = Request.QueryString["user"];
}

<p class="text-center mt-60">
    <a href="/Cars/All?page=@(ViewBag.CurrentPage - 1)@(currentUserQuery != null ? "&user=" + currentUserQuery : string.Empty)" 
                    class="btn btn-primary @(ViewBag.CurrentPage == 1  ? "disabled" : string.Empty)">Previous <<</a>
    <a href="/Cars/All?page=@(ViewBag.CurrentPage + 1)@(currentUserQuery != null ? "&user=" + currentUserQuery : string.Empty)" 
                    class="btn btn-primary @(!Model.Any() || Model.Count() < 5  ? "disabled" : string.Empty)">Next >></a>
</p>

